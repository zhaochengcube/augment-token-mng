:root {
  color-scheme: light;
  /* Typography */
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; /* 用途: 全局基础字体 / used for base font stack */

  /* Base surfaces */
  --bg-page: #f6f7fb; /* 用途: 页面背景 / used for page background */
  --bg-page-soft: #f9fafb; /* 用途: 页面柔和区块 / used for soft page sections */
  --bg-surface: #ffffff; /* 用途: 卡片与容器 / used for cards and containers */
  --bg-surface-alt: #f7f8fb; /* 用途: 备用容器底色 / used for alternate surfaces */
  --bg-surface-secondary: #f9fafc; /* 用途: 次级分组 / used for secondary grouping */
  --bg-surface-soft: #f3f5f9; /* 用途: 柔和面板 / used for soft panels */
  --bg-muted: #f1f3f7; /* 用途: 弱化底色 / used for muted blocks */
  --bg-hover: #eef1f6; /* 用途: 悬停底色 / used for hover states */

  /* Text */
  --text-strong: #0f172a; /* 用途: 标题/强调 / used for headings */
  --text: #1f2937; /* 用途: 正文 / used for body text */
  --text-secondary: #4b5563; /* 用途: 次级说明 / used for secondary text */
  --text-muted: #6b7280; /* 用途: 辅助信息 / used for muted text */
  --text-soft: #94a3b8; /* 用途: 最弱提示 / used for subtle hints */
  --text-inverse: #ffffff; /* 用途: 深色底反白 / used on dark backgrounds */

  /* Borders */
  --border: #d6dbe3; /* 用途: 默认边框 / used for default borders */
  --border-strong: #c6ccd6; /* 用途: 强调边框 / used for emphasis borders */
  --border-muted: #e2e6ee; /* 用途: 弱化边框 / used for subtle borders */
  --border-hover: #b8c0cc; /* 用途: 悬停边框 / used for hover borders */
  --divider: #e3e7ee; /* 用途: 分隔线 / used for dividers */

  /* Accent */
  --accent: #2563eb; /* 用途: 主按钮/链接 / used for primary actions */
  --accent-hover: #1d4ed8; /* 用途: 主按钮悬停 / used for primary hover */
  --accent-soft: #e8efff; /* 用途: 主色柔和底 / used for soft accent blocks */
  --accent-light: #93c5fd; /* 用途: 主色浅色 / used for light accent */
  --accent-dark: #1e40af; /* 用途: 主色深色 / used for dark accent */
  --accent-soft-bg: #e8f0ff; /* 用途: 轻提示底色 / used for soft highlight bg */
  --accent-soft-text: #1d4ed8; /* 用途: 轻提示文字 / used for soft highlight text */
  --accent-soft-border: #c7d7fe; /* 用途: 轻提示边框 / used for soft highlight border */
  --accent-soft-hover: #b7c9ff; /* 用途: 轻提示悬停 / used for soft highlight hover */

  /* State colors */
  --state-success: #16a34a; /* 用途: 成功状态 / used for success state */
  --state-success-text: #166534; /* 用途: 成功文字 / used for success text */
  --state-success-surface: #ecfdf3; /* 用途: 成功底色 / used for success surface */
  --state-success-border: #bbf7d0; /* 用途: 成功边框 / used for success border */
  --state-success-soft: #86efac; /* 用途: 成功柔和底 / used for success soft */
  --state-warning: #d97706; /* 用途: 警告状态 / used for warning state */
  --state-warning-text: #92400e; /* 用途: 警告文字 / used for warning text */
  --state-warning-surface: #fff7ed; /* 用途: 警告底色 / used for warning surface */
  --state-warning-border: #fed7aa; /* 用途: 警告边框 / used for warning border */
  --state-danger: #dc2626; /* 用途: 危险状态 / used for danger state */
  --state-danger-hover: #b91c1c; /* 用途: 危险悬停 / used for danger hover */
  --state-danger-text: #991b1b; /* 用途: 危险文字 / used for danger text */
  --state-danger-surface: #fef2f2; /* 用途: 危险底色 / used for danger surface */
  --state-danger-soft: #fecaca; /* 用途: 危险柔和底 / used for danger soft */
  --state-danger-soft-surface: #fee2e2; /* 用途: 危险柔和底色 / used for danger soft surface */
  --state-danger-soft-border: #fecaca; /* 用途: 危险柔和边框 / used for danger soft border */

  /* Inputs */
  --input-bg: #ffffff; /* 用途: 输入控件底色 / used for inputs */

  /* Tags and notes */
  --tag-default: #f97316; /* 用途: 标签默认色 / used for tags */
  --note: #0f766e; /* 用途: 提示信息色 / used for notes */
  --note-hover: #0b5f59; /* 用途: 提示悬停 / used for note hover */
  --note-soft: #ecf5f4; /* 用途: 提示底色 / used for note background */
  --note-border: #bfe3df; /* 用途: 提示边框 / used for note border */

  /* Charts */
  --chart-1: #2563eb; /* 用途: 图表配色1 / used for charts */
  --chart-2: #f43f5e; /* 用途: 图表配色2 / used for charts */
  --chart-3: #0ea5e9; /* 用途: 图表配色3 / used for charts */
  --chart-4: #22c55e; /* 用途: 图表配色4 / used for charts */
  --chart-5: #f59e0b; /* 用途: 图表配色5 / used for charts */
  --chart-6: #8b5cf6; /* 用途: 图表配色6 / used for charts */
  --chart-7: #14b8a6; /* 用途: 图表配色7 / used for charts */
  --chart-8: #f97316; /* 用途: 图表配色8 / used for charts */

  /* Rose accents */
  --rose-surface: #fff1f5; /* 用途: 玫瑰强调底 / used for rose accents */
  --rose-text: #be185d; /* 用途: 玫瑰强调字 / used for rose text */
  --rose-border: #fbcfe8; /* 用途: 玫瑰强调边 / used for rose borders */
  --rose-hover: #f9a8d4; /* 用途: 玫瑰悬停 / used for rose hover */

  /* Shadows and overlays */
  --shadow-elevated: 0 16px 40px rgba(15, 23, 42, 0.12); /* 用途: 弹层阴影 / used for elevated surfaces */
  --backdrop: rgba(15, 23, 42, 0.45); /* 用途: 遮罩背景 / used for overlays */
  --backdrop-strong: rgba(15, 23, 42, 0.65); /* 用途: 强遮罩 / used for strong overlays */
  --primary-rgb: 37, 99, 235; /* 用途: 需要 RGB 的场景 / used for rgba mixes */

  /* Semantic aliases */
  --accent-strong: var(--accent-hover); /* 用途: 强调主色 / used for strong accent */
  --primary: var(--accent); /* 用途: 主色别名 / used as primary alias */
  --primary-hover: var(--accent-hover); /* 用途: 主色悬停别名 / used as primary hover */
  --text-contrast: var(--text-inverse); /* 用途: 对比文字 / used for contrast text */

  /* Tech / glassmorphism accents */
  --tech-glow-primary: rgba(59, 130, 246, 0.25); /* 用途: 霓虹主光晕 / used for tech glow */
  --tech-glow-success: rgba(16, 185, 129, 0.25); /* 用途: 霓虹成功光晕 / used for tech success glow */
  --tech-glow-danger: rgba(239, 68, 68, 0.2); /* 用途: 霓虹危险光晕 / used for tech danger glow */
  --tech-glow-warning: rgba(245, 158, 11, 0.2); /* 用途: 霓虹警告光晕 / used for tech warning glow */
  --tech-border-glow: 0 0 0 1px rgba(59, 130, 246, 0.1), 0 0 15px -5px rgba(59, 130, 246, 0.15); /* 用途: 玻璃边框光晕 / used for glass borders */
  --tech-card-bg: rgba(255, 255, 255, 0.9); /* 用途: 玻璃卡片底 / used for tech cards */
  --tech-glass-bg: rgba(255, 255, 255, 0.7); /* 用途: 玻璃背景 / used for glass panels */
  --tech-glass-border: rgba(59, 130, 246, 0.15); /* 用途: 玻璃边框 / used for glass borders */
  --tech-gradient-primary: linear-gradient(135deg, #3b82f6 0%, #0ea5e9 100%); /* 用途: 主色渐变 / used for gradients */
  --tech-gradient-success: linear-gradient(135deg, #10b981 0%, #34d399 100%); /* 用途: 成功渐变 / used for success gradients */
  --tech-gradient-surface: linear-gradient(180deg, rgba(248, 250, 252, 0.95) 0%, rgba(241, 245, 249, 0.98) 100%); /* 用途: 表面渐变 / used for surface gradients */
  --tech-mono-font: 'SF Mono', 'Fira Code', 'JetBrains Mono', monospace; /* 用途: 等宽字体 / used for code-like text */
}

[data-theme='dark'] {
  color-scheme: dark;
  /* Typography */
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; /* 用途: 全局基础字体 / used for base font stack */

  /* Base surfaces */
  --bg-page: #0b1120; /* 用途: 页面背景 / used for page background */
  --bg-page-soft: #111827; /* 用途: 页面柔和区块 / used for soft page sections */
  --bg-surface: #111827; /* 用途: 卡片与容器 / used for cards and containers */
  --bg-surface-alt: #0f172a; /* 用途: 备用容器底色 / used for alternate surfaces */
  --bg-surface-secondary: #0b1120; /* 用途: 次级分组 / used for secondary grouping */
  --bg-surface-soft: #111b2e; /* 用途: 柔和面板 / used for soft panels */
  --bg-muted: #0b1324; /* 用途: 弱化底色 / used for muted blocks */
  --bg-hover: #1f2937; /* 用途: 悬停底色 / used for hover states */

  /* Text */
  --text-strong: #f8fafc; /* 用途: 标题/强调 / used for headings */
  --text: #e2e8f0; /* 用途: 正文 / used for body text */
  --text-secondary: #cbd5e1; /* 用途: 次级说明 / used for secondary text */
  --text-muted: #94a3b8; /* 用途: 辅助信息 / used for muted text */
  --text-soft: #64748b; /* 用途: 最弱提示 / used for subtle hints */
  --text-inverse: #ffffff; /* 用途: 深色底反白 / used on dark backgrounds */

  /* Borders */
  --border: #263246; /* 用途: 默认边框 / used for default borders */
  --border-strong: #334155; /* 用途: 强调边框 / used for emphasis borders */
  --border-muted: rgba(148, 163, 184, 0.25); /* 用途: 弱化边框 / used for subtle borders */
  --border-hover: #3b4a63; /* 用途: 悬停边框 / used for hover borders */
  --divider: #1f2a3a; /* 用途: 分隔线 / used for dividers */

  /* Accent */
  --accent: #2563eb; /* 用途: 主按钮/链接 / used for primary actions */
  --accent-hover: #1d4ed8; /* 用途: 主按钮悬停 / used for primary hover */
  --accent-soft: #1b2a4a; /* 用途: 主色柔和底 / used for soft accent blocks */
  --accent-light: #60a5fa; /* 用途: 主色浅色 / used for light accent */
  --accent-dark: #1e40af; /* 用途: 主色深色 / used for dark accent */
  --accent-soft-bg: #0b2447; /* 用途: 轻提示底色 / used for soft highlight bg */
  --accent-soft-text: #93c5fd; /* 用途: 轻提示文字 / used for soft highlight text */
  --accent-soft-border: #1e3a8a; /* 用途: 轻提示边框 / used for soft highlight border */
  --accent-soft-hover: #1d4ed8; /* 用途: 轻提示悬停 / used for soft highlight hover */

  /* State colors */
  --state-success: #22c55e; /* 用途: 成功状态 / used for success state */
  --state-success-text: #86efac; /* 用途: 成功文字 / used for success text */
  --state-success-surface: #0f2a1b; /* 用途: 成功底色 / used for success surface */
  --state-success-border: #1b4d2f; /* 用途: 成功边框 / used for success border */
  --state-success-soft: #4ade80; /* 用途: 成功柔和底 / used for success soft */
  --state-warning: #f59e0b; /* 用途: 警告状态 / used for warning state */
  --state-warning-text: #fcd34d; /* 用途: 警告文字 / used for warning text */
  --state-warning-surface: #2b1e08; /* 用途: 警告底色 / used for warning surface */
  --state-warning-border: #4b2f0c; /* 用途: 警告边框 / used for warning border */
  --state-danger: #f87171; /* 用途: 危险状态 / used for danger state */
  --state-danger-hover: #ef4444; /* 用途: 危险悬停 / used for danger hover */
  --state-danger-text: #fecaca; /* 用途: 危险文字 / used for danger text */
  --state-danger-surface: #2b1111; /* 用途: 危险底色 / used for danger surface */
  --state-danger-soft: #fecaca; /* 用途: 危险柔和底 / used for danger soft */
  --state-danger-soft-surface: #3a1414; /* 用途: 危险柔和底色 / used for danger soft surface */
  --state-danger-soft-border: #7f1d1d; /* 用途: 危险柔和边框 / used for danger soft border */

  /* Inputs */
  --input-bg: #0f172a; /* 用途: 输入控件底色 / used for inputs */

  /* Tags and notes */
  --tag-default: #fb923c; /* 用途: 标签默认色 / used for tags */
  --note: #5eead4; /* 用途: 提示信息色 / used for notes */
  --note-hover: #2dd4bf; /* 用途: 提示悬停 / used for note hover */
  --note-soft: #0f2a2a; /* 用途: 提示底色 / used for note background */
  --note-border: #1f3f3f; /* 用途: 提示边框 / used for note border */

  /* Charts */
  --chart-1: #60a5fa; /* 用途: 图表配色1 / used for charts */
  --chart-2: #fb7185; /* 用途: 图表配色2 / used for charts */
  --chart-3: #7dd3fc; /* 用途: 图表配色3 / used for charts */
  --chart-4: #86efac; /* 用途: 图表配色4 / used for charts */
  --chart-5: #fcd34d; /* 用途: 图表配色5 / used for charts */
  --chart-6: #c4b5fd; /* 用途: 图表配色6 / used for charts */
  --chart-7: #5eead4; /* 用途: 图表配色7 / used for charts */
  --chart-8: #fdba74; /* 用途: 图表配色8 / used for charts */

  /* Rose accents */
  --rose-surface: #2b0f1f; /* 用途: 玫瑰强调底 / used for rose accents */
  --rose-text: #f9a8d4; /* 用途: 玫瑰强调字 / used for rose text */
  --rose-border: #4a1733; /* 用途: 玫瑰强调边 / used for rose borders */
  --rose-hover: #be185d; /* 用途: 玫瑰悬停 / used for rose hover */

  /* Shadows and overlays */
  --shadow-elevated: 0 18px 40px rgba(0, 0, 0, 0.45); /* 用途: 弹层阴影 / used for elevated surfaces */
  --backdrop: rgba(0, 0, 0, 0.6); /* 用途: 遮罩背景 / used for overlays */
  --backdrop-strong: rgba(0, 0, 0, 0.75); /* 用途: 强遮罩 / used for strong overlays */
  --primary-rgb: 37, 99, 235; /* 用途: 需要 RGB 的场景 / used for rgba mixes */

  /* Semantic aliases */
  --accent-strong: var(--accent-hover); /* 用途: 强调主色 / used for strong accent */
  --primary: var(--accent); /* 用途: 主色别名 / used as primary alias */
  --primary-hover: var(--accent-hover); /* 用途: 主色悬停别名 / used as primary hover */
  --text-contrast: var(--text-inverse); /* 用途: 对比文字 / used for contrast text */

  /* Tech / glassmorphism accents */
  --tech-glow-primary: rgba(96, 165, 250, 0.4); /* 用途: 霓虹主光晕 / used for tech glow */
  --tech-glow-success: rgba(52, 211, 153, 0.4); /* 用途: 霓虹成功光晕 / used for tech success glow */
  --tech-glow-danger: rgba(248, 113, 113, 0.35); /* 用途: 霓虹危险光晕 / used for tech danger glow */
  --tech-glow-warning: rgba(251, 191, 36, 0.35); /* 用途: 霓虹警告光晕 / used for tech warning glow */
  --tech-border-glow: 0 0 0 1px rgba(96, 165, 250, 0.15), 0 0 20px -5px rgba(96, 165, 250, 0.2); /* 用途: 玻璃边框光晕 / used for glass borders */
  --tech-card-bg: rgba(17, 24, 39, 0.6); /* 用途: 玻璃卡片底 / used for tech cards */
  --tech-glass-bg: rgba(17, 24, 39, 0.4); /* 用途: 玻璃背景 / used for glass panels */
  --tech-glass-border: rgba(96, 165, 250, 0.2); /* 用途: 玻璃边框 / used for glass borders */
  --tech-gradient-primary: linear-gradient(135deg, #3b82f6 0%, #0ea5e9 100%); /* 用途: 主色渐变 / used for gradients */
  --tech-gradient-success: linear-gradient(135deg, #10b981 0%, #34d399 100%); /* 用途: 成功渐变 / used for success gradients */
  --tech-gradient-surface: linear-gradient(180deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%); /* 用途: 表面渐变 / used for surface gradients */
  --tech-mono-font: 'SF Mono', 'Fira Code', 'JetBrains Mono', monospace; /* 用途: 等宽字体 / used for code-like text */
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: var(--font-sans);
  height: 100vh;
  overflow: hidden;
  background: var(--bg-page);
  color: var(--text);
  transition: background-color 0.3s ease, color 0.3s ease;
}

#app {
  width: 100%;
  height: 100vh;
  overflow: hidden;
  background: var(--bg-page);
  color: var(--text);
}

.btn {
  padding: 12px 24px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.3s ease;
  margin-right: 10px;
  margin-bottom: 10px;
}

/* 防止按钮内的 SVG 图标在 hover 时抖动 */
.btn svg {
  will-change: transform;
  backface-visibility: hidden;
  -webkit-font-smoothing: subpixel-antialiased;
}

.btn:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 25%, transparent);
}

.btn.ghost {
  background: transparent;
  border: 1px solid transparent;
  color: var(--text);
}

.btn.ghost:hover {
  background: var(--bg-muted);
  border-color: var(--border);
  transform: translateY(-1px);
}

.btn.primary {
  background: color-mix(in srgb, var(--accent) 15%, transparent);
  color: var(--accent-soft-text);
  border: 1px solid color-mix(in srgb, var(--accent) 35%, transparent);
}

.btn.primary:hover {
  background: color-mix(in srgb, var(--accent) 25%, transparent);
  border-color: color-mix(in srgb, var(--accent) 55%, transparent);
}

.btn.primary:disabled {
  background: color-mix(in srgb, var(--accent) 12%, transparent);
  border-color: color-mix(in srgb, var(--accent) 20%, transparent);
  color: color-mix(in srgb, var(--accent) 60%, var(--text-muted));
  cursor: not-allowed;
  transform: none;
}

.btn.secondary {
  background: color-mix(in srgb, var(--text-strong) 10%, transparent);
  color: var(--accent-soft-text);
  border: 1px solid color-mix(in srgb, var(--text-strong) 25%, transparent);
}

.btn.secondary:hover {
  background: color-mix(in srgb, var(--text-strong) 18%, transparent);
  border-color: color-mix(in srgb, var(--text-strong) 40%, transparent);
}

.btn.loading {
  position: relative;
  color: transparent;
}

.btn.loading::after {
  content: '';
  position: absolute;
  width: 16px;
  height: 16px;
  top: 50%;
  left: 50%;
  margin-left: -8px;
  margin-top: -8px;
  border: 2px solid transparent;
  border-top-color: var(--text-contrast);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.btn.success {
  background: color-mix(in srgb, var(--state-success) 15%, transparent);
  color: var(--accent-soft-text);
  border: 1px solid color-mix(in srgb, var(--state-success) 35%, transparent);
}

.btn.success:hover {
  background: color-mix(in srgb, var(--state-success) 25%, transparent);
  border-color: color-mix(in srgb, var(--state-success) 55%, transparent);
}

.btn.warning {
  background: color-mix(in srgb, var(--state-warning) 15%, transparent);
  color: var(--accent-soft-text);
  border: 1px solid color-mix(in srgb, var(--state-warning) 35%, transparent);
}

.btn.warning:hover {
  background: color-mix(in srgb, var(--state-warning) 25%, transparent);
  border-color: color-mix(in srgb, var(--state-warning) 55%, transparent);
}

.btn.info {
  background: var(--accent-soft-bg);
  color: var(--accent-soft-text);
  border: 1px solid var(--accent-soft-border);
}

.btn.info:hover {
  background: color-mix(in srgb, var(--accent-soft-bg) 70%, var(--accent-soft-hover));
  border-color: var(--accent-soft-hover);
}

.btn.danger {
  background: color-mix(in srgb, var(--state-danger) 15%, transparent);
  color: var(--accent-soft-text);
  border: 1px solid color-mix(in srgb, var(--state-danger) 35%, transparent);
}

.btn.danger:hover {
  background: color-mix(in srgb, var(--state-danger) 25%, transparent);
  border-color: color-mix(in srgb, var(--state-danger) 55%, transparent);
}

.btn.small {
  padding: 8px 12px;
  font-size: 12px;
}

.btn:disabled,
.btn.disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

/* Icon buttons */
.btn-icon,
.modal-close {
  background: color-mix(in srgb, var(--bg-muted) 50%, transparent);
  border: 1px solid var(--tech-glass-border);
  border-radius: 8px;
  padding: 8px;
  min-width: 32px;
  min-height: 32px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--text-secondary);
  transition: all 0.2s ease;
}

.modal-close {
  background: transparent;
  border: none;
  font-size: 20px;
  line-height: 1;
}

.btn-icon svg,
.btn-icon img {
  will-change: transform;
  backface-visibility: hidden;
  -webkit-font-smoothing: subpixel-antialiased;
  transition: transform 0.2s ease;
}

.btn-icon:hover svg,
.btn-icon:hover img {
  transform: none;
}

.btn-icon:hover,
.modal-close:hover {
  background: color-mix(in srgb, var(--accent) 15%, transparent);
  border-color: color-mix(in srgb, var(--accent) 50%, transparent);
  color: var(--accent);
  box-shadow: 0 0 12px var(--tech-glow-primary);
  transform: translateY(-1px);
}

.modal-close:hover {
  background: transparent;
  border-color: transparent;
  box-shadow: none;
  transform: none;
}

.btn-icon.active {
  background: color-mix(in srgb, var(--accent) 20%, transparent);
  border-color: color-mix(in srgb, var(--accent) 60%, transparent);
  color: var(--accent);
  box-shadow: 0 0 12px var(--tech-glow-primary);
}

.btn-icon:disabled,
.modal-close:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.btn-icon.info {
  color: var(--accent);
}

.btn-icon.add {
  color: var(--state-success);
}

.btn-icon.delete {
  color: var(--state-danger);
}

.btn-icon.delete:hover {
  background: color-mix(in srgb, var(--state-danger) 15%, transparent);
  border-color: color-mix(in srgb, var(--state-danger) 50%, transparent);
  color: var(--state-danger);
  box-shadow: 0 0 12px var(--tech-glow-danger);
}

.btn-icon.close {
  color: var(--text-muted);
}

.btn-icon.close:hover {
  background: color-mix(in srgb, var(--text-muted) 12%, transparent);
  border-color: color-mix(in srgb, var(--text-muted) 35%, transparent);
  color: var(--text);
  box-shadow: none;
}

.btn-icon.add:hover {
  background: color-mix(in srgb, var(--state-success) 15%, transparent);
  border-color: var(--state-success);
  box-shadow: 0 0 12px var(--tech-glow-success);
}

.btn-icon.warning {
  position: relative;
  color: var(--warning, #f59e0b);
  background: color-mix(in srgb, var(--warning, #f59e0b) 10%, transparent);
  border-color: color-mix(in srgb, var(--warning, #f59e0b) 30%, transparent);
}

.btn-icon.warning:hover {
  background: color-mix(in srgb, var(--warning, #f59e0b) 20%, transparent);
  border-color: color-mix(in srgb, var(--warning, #f59e0b) 50%, transparent);
  box-shadow: 0 0 12px rgba(245, 158, 11, 0.3);
}

.warning-badge {
  position: absolute;
  top: -4px;
  right: -4px;
  background: var(--warning, #f59e0b);
  color: white;
  font-size: 10px;
  font-weight: 600;
  padding: 2px 5px;
  border-radius: 10px;
  min-width: 16px;
  text-align: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Modal */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at top, color-mix(in srgb, var(--backdrop) 85%, transparent), var(--backdrop-strong));
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2000;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}

.modal-content {
  background: var(--tech-glass-bg);
  border: 1px solid var(--tech-glass-border);
  border-radius: 16px;
  max-width: 90vw;
  max-height: 95vh;
  overflow-y: auto;
  position: relative;
  box-shadow: var(--shadow-elevated), var(--tech-border-glow);
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 24px;
  border-bottom: 1px solid var(--tech-glass-border);
  background: color-mix(in srgb, var(--bg-muted) 45%, transparent);
  border-radius: 16px 16px 0 0;
}

.modal-header h3,
.modal-header h2 {
  margin: 0;
  color: var(--text-strong, #0f172a);
  font-size: 18px;
  font-weight: 600;
}

.modal-body {
  padding: 20px 24px;
}

.modal-footer {
  padding: 16px 24px;
  border-top: 1px solid var(--tech-glass-border);
  background: color-mix(in srgb, var(--bg-muted) 40%, transparent);
  border-radius: 0 0 16px 16px;
}

.modal-message {
  margin: 0 0 16px 0;
  color: var(--text-secondary, #6b7280);
  font-size: 14px;
  white-space: pre-line;
  line-height: 1.6;
}

.modal-warning {
  margin: 0;
  color: var(--state-warning-text, #92400e);
  background: var(--state-warning-surface, #fef3c7);
  border: 1px solid var(--state-warning-border, #fde68a);
  border-radius: 6px;
  padding: 12px;
  font-size: 13px;
}

.portal-dialog-overlay {
  position: fixed;
  inset: 0;
  background: var(--backdrop, rgba(0, 0, 0, 0.5));
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 3000;
}

.portal-dialog {
  background: var(--bg-surface, #ffffff);
  border-radius: 12px;
  padding: 24px;
  box-shadow: var(--shadow-elevated);
  min-width: 300px;
  max-width: 400px;
}

.portal-dialog h3 {
  margin: 0 0 20px 0;
  font-size: 18px;
  font-weight: 600;
  color: var(--text-strong, #333);
  text-align: center;
}

.dialog-buttons {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.dialog-buttons .btn {
  margin: 0;
  width: 100%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.dialog-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  border: 2px solid transparent;
  border-radius: 8px;
  background: var(--bg-muted, #f8f9fa);
  color: var(--text-secondary, #495057);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  justify-content: center;
}

.dialog-btn:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-elevated);
}

.dialog-btn.external {
  background: var(--accent-soft-bg, #e3f2fd);
  color: var(--accent-soft-text, #1976d2);
  border-color: var(--accent-soft-border, #90caf9);
}

.dialog-btn.external:hover {
  background: var(--accent-soft-bg, #bbdefb);
  border-color: var(--accent-soft-hover, #64b5f6);
}

.dialog-btn.internal {
  background: var(--state-success-surface, #e8f5e8);
  color: var(--state-success-text, #2e7d32);
  border-color: var(--state-success-border, #a5d6a7);
}

.dialog-btn.internal:hover {
  background: var(--state-success-surface, #c8e6c9);
  border-color: var(--state-success-border, #81c784);
}

.dialog-btn.cancel {
  background: var(--rose-surface, #fce4ec);
  color: var(--rose-text, #c2185b);
  border-color: var(--rose-border, #f8bbd9);
}

.dialog-btn.cancel:hover {
  background: var(--rose-border, #f8bbd9);
  border-color: var(--rose-hover, #f48fb1);
}

.dialog-btn.delete {
  background: var(--state-danger-soft-surface, #ffebee);
  color: var(--state-danger-text, #d32f2f);
  border-color: var(--state-danger-soft-border, #ffcdd2);
}

.dialog-btn.delete:hover {
  background: var(--state-danger-soft-border, #ffcdd2);
  border-color: var(--state-danger-soft-border, #ef9a9a);
}

.dialog-btn.copy {
  background: var(--accent-soft-bg, #e3f2fd);
  color: var(--accent-soft-text, #1976d2);
  border-color: var(--accent-soft-border, #90caf9);
}

.dialog-btn.copy:hover {
  background: var(--accent-soft-hover, #64b5f6);
}

.delete-confirm .dialog-buttons {
  flex-direction: row;
  gap: 12px;
}

.delete-confirm .dialog-buttons .btn {
  width: auto;
}

.delete-confirm .dialog-buttons .btn {
  flex: 1;
}

/* Form controls */
.form-group {
  margin-bottom: 18px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  color: var(--text-muted);
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.form-input,
.form-textarea,
.form-group input,
.form-group textarea,
.form-group select,
.size-select,
.pagination-size-select,
.search-input {
  width: 100%;
  padding: 12px 14px;
  border: 1px solid var(--tech-glass-border);
  border-radius: 10px;
  font-size: 14px;
  transition: all 0.2s ease;
  box-sizing: border-box;
  background: color-mix(in srgb, var(--bg-muted) 50%, transparent);
  color: var(--text);
}

.form-group select,
.size-select,
.pagination-size-select {
  padding-right: 36px;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b7280' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 12px;
}

.form-textarea,
.form-group textarea {
  resize: vertical;
  min-height: 100px;
}

.form-input:focus,
.form-textarea:focus,
.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus,
.size-select:focus,
.pagination-size-select:focus,
.search-input:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 15%, transparent),
              0 0 12px var(--tech-glow-primary);
}

.form-input:read-only,
.form-group input:read-only {
  background-color: color-mix(in srgb, var(--bg-muted) 70%, transparent);
  color: var(--text-muted);
}

.form-input:disabled,
.form-textarea:disabled,
.form-group input:disabled,
.form-group textarea:disabled,
.form-group select:disabled,
.size-select:disabled,
.pagination-size-select:disabled,
.search-input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.size-select,
.pagination-size-select {
  padding: 8px 10px;
}

/* Status badges */
.status-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 600;
  background: color-mix(in srgb, var(--bg-muted) 50%, transparent);
  color: var(--text-muted);
  white-space: nowrap;
  flex-shrink: 0;
  border: 1px solid var(--tech-glass-border);
  transition: all 0.2s ease;
}

.status-badge.editable {
  background: color-mix(in srgb, var(--tag-color, var(--tag-default)) 20%, transparent);
  border: 1px solid color-mix(in srgb, var(--tag-color, var(--tag-default)) 45%, transparent);
  color: color-mix(in srgb, var(--tag-color, var(--tag-default)) 60%, var(--text));
  cursor: pointer;
}

.status-badge.editable:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}

.status-badge.clickable {
  cursor: pointer;
}

.status-badge.clickable:hover {
  transform: scale(1.05);
  filter: brightness(1.1);
}

.status-badge.active,
.status-badge.available,
.status-badge.running,
.status-badge.enabled,
.status-badge.saved,
.status-dot.active,
.status-dot.saved {
  color: var(--state-success);
}

.status-badge.active,
.status-badge.available,
.status-badge.running,
.status-badge.enabled,
.status-badge.saved {
  background: color-mix(in srgb, var(--state-success) 15%, transparent);
  border-color: color-mix(in srgb, var(--state-success) 30%, transparent);
  box-shadow: 0 0 10px var(--tech-glow-success);
}

.status-badge.low,
.status-badge.suspended,
.status-badge.warning,
.status-badge.unsaved,
.status-dot.suspended,
.status-dot.unsaved {
  color: var(--state-warning);
}

.status-badge.low,
.status-badge.suspended,
.status-badge.warning,
.status-badge.unsaved {
  background: color-mix(in srgb, var(--state-warning) 15%, transparent);
  border-color: color-mix(in srgb, var(--state-warning) 30%, transparent);
}

.status-badge.inactive,
.status-badge.banned,
.status-badge.forbidden,
.status-dot.inactive,
.status-dot.banned,
.status-dot.forbidden {
  color: var(--state-danger);
}

.status-badge.inactive,
.status-badge.banned,
.status-badge.forbidden {
  background: color-mix(in srgb, var(--state-danger) 15%, transparent);
  border-color: color-mix(in srgb, var(--state-danger) 30%, transparent);
}

.status-badge.initializing,
.status-dot.initializing {
  color: var(--accent);
}

.status-badge.initializing {
  background: color-mix(in srgb, var(--accent) 12%, transparent);
  border-color: color-mix(in srgb, var(--accent) 35%, transparent);
  box-shadow: 0 0 12px var(--tech-glow-primary);
}

.status-badge.invalid {
  background: color-mix(in srgb, var(--state-warning) 15%, transparent);
  color: var(--state-warning-text);
  border: 1px solid color-mix(in srgb, var(--state-warning) 35%, transparent);
}

.status-badge.current {
  background: color-mix(in srgb, var(--accent) 15%, transparent);
  color: var(--accent);
  border-color: color-mix(in srgb, var(--accent) 35%, transparent);
}

.status-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: currentColor;
  animation: pulse 2s ease-in-out infinite;
  box-shadow: 0 0 6px currentColor;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Email display */
.email-note-container,
.email-wrapper {
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  width: fit-content;
  max-width: 100%;
}

.email-note,
.email-text {
  font-size: 14px;
  font-weight: 600;
  color: var(--text);
  display: inline-block;
  user-select: none;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  transition: color 0.2s ease;
}

.email-note-container:hover .email-note,
.email-wrapper:hover .email-text {
  color: var(--accent);
}

.no-email,
.no-email-note {
  color: var(--text-muted);
  opacity: 0.6;
}

@media (max-width: 768px) {
  .btn {
    padding: 8px 12px;
    font-size: 13px;
  }

  .btn.small {
    padding: 6px 10px;
    font-size: 12px;
  }
}
